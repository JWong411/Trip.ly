<div id="userbanner">
  <h1 class="userwelcome">Welcome, <%= @user.first_name %></h1>
</div>



<div class="user-profile row">
  <div class="large-8 large-centered column">
    <h1 class="greeting center-text">Welcome, <%= @user.first_name %></h1>
  </div>
</div>


<div class="row">

<div class="row">
  <div class="small-10 medium-8 large-8 column small-centered medium-centered large-centered">
    <form class="trips-list" id="add-trip">
      <button class="expanded hollow button" type="submit">Add a Trip <i class="fa fa-paper-plane" aria-hidden="true"></i></button>
    </form>
  </div>
</div>


  <%= form_for @trip do |f| %>
  <% if @trip.errors.any? %>
  <div id="error_explanation">
    <p>
      <%= pluralize(@trip.errors.count, "error") %> prohibited
      this trip from being saved:
    <p>
    <ul>
      <% @trip.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
    </ul>
  </div>
  <% end %>



<div id="new_trip_form" class="<%= 'hidden' unless @trip.errors.any? %>">
  <p>
    <%= f.label :city %><br>
    <%= f.text_field :city %>
  </p>

  <p>
    <%= f.label :start_date %><br>
    <%= f.date_field :start_date %>
  </p>

  <p>
    <%= f.label :end_date %><br>
    <%= f.date_field :end_date %>
  </p>

  <p>
    <%= f.submit %>
  </p>

  <% end %>
</div>

<div class="row">
  <div class="small-10 small-centered medium-8 medium-centered large-8 large-centered">
    <div class="trips-list medium-6 large-6 columns">
      <div class="upcoming">
        <h5>Upcoming Trips</h5>
        <ul>
          <% upcoming_trips(@user).sort_by{|trip| trip.start_date }.each do |trip| %>
            <li>
              <form class="user-options" id="edit-trip" method="GET" action="/trips/<%= trip.id %>/edit">
                <button class="fa fa-pencil-square-o" type="image" value="Edit" alt="Edit"></button>
              </form>
              <!-- <%= button_to 'Delete', trip_path(trip),
                   method: :delete,
                   data: { confirm: 'Are you sure?' } %> -->
              <form class="user-options" id="delete-trip" method="post" action="<%= trip_path(trip) %>">
                <input type="hidden" name="_method" value="delete">
                <button class="fa fa-trash-o" data-confirm="Are you sure?" type="submit" value="Delete"></button>
              </form>
              <a href="/trips/<%= trip.id %>"><%= trip.start_date %>: <%= trip.name %></a>
            </li>
          <% end %>
        <ul>
      </div>
    </div>
    <div class="trips-list medium-6 large-6 columns">
      <h5>Past Trips</h5>
      <ul class="past">
        <% past_trips(@user).sort_by{|trip| trip.start_date }.each do |trip| %>
          <li >
            <form class="user-options" id="edit-trip" method="GET" action="/trips/<%= trip.id %>/edit">
              <button class="fa fa-pencil-square-o" type="button" type="submit" value= "Edit"></button>
            </form>
            <!-- <%= button_to 'Delete', trip_path(trip),
                 method: :delete,
                 data: { confirm: 'Are you sure?' } %> -->
                 <form class="user-options" id="delete-trip" method="post" action="<%= trip_path(trip) %>">
                   <input type="hidden" name="_method" value="delete">
                   <button class="fa fa-trash-o" data-confirm="Are you sure?" type="submit" value="Delete"></button>
                 </form>
            <a href="/trips/<%= trip.id %>"><%= trip.start_date %>: <%= trip.name %></a>
          </li>
        <% end %>
      <ul>
    </div>
  </div>

</div>
</div>
<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=<%="#{ENV['GOOGLE_AUTOCOMPLETE_KEY']}"%>&amp;libraries=places&amp;callback=initAutocomplete"
    async defer></script>
